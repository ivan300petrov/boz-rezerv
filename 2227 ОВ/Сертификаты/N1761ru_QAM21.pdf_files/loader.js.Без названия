!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,s=function(t,e){v[o]=t,v[o+1]=e,2===(o+=2)&&(a?a(p):b())},u="undefined"!=typeof window?window:void 0,c=u||{},d=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(p,1)}}var v=new Array(1e3);function p(){for(var t=0;t<o;t+=2)(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0;o=0}var g,m,y,w,b=void 0;function S(t,e){var n=this,r=new this.constructor(k);void 0===r[O]&&L(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return x(o,r,i,n._result)}))}else j(n,r,t,e);return r}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return T(e,t),e}f?b=function(){return e.nextTick(p)}:d?(m=0,y=new d(p),w=document.createTextNode(""),y.observe(w,{characterData:!0}),b=function(){w.data=m=++m%2}):l?((g=new MessageChannel).port1.onmessage=p,b=function(){return g.port2.postMessage(0)}):b=void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(p)}:h()}catch(e){return h()}}():h();var O=Math.random().toString(36).substring(2);function k(){}function A(e,n,r){n.constructor===e.constructor&&r===S&&n.constructor.resolve===_?function(t,e){1===e._state?P(t,e._result):2===e._state?R(t,e._result):j(e,void 0,(function(e){return T(t,e)}),(function(e){return R(t,e)}))}(e,n):void 0===r?P(e,n):t(r)?function(t,e,n){s((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}(n,e,(function(n){r||(r=!0,e!==n?T(t,n):P(t,n))}),(function(e){r||(r=!0,R(t,e))}),t._label);!r&&o&&(r=!0,R(t,o))}),t)}(e,n,r):P(e,n)}function T(t,e){if(t===e)R(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)P(t,e);else{var n=void 0;try{n=e.then}catch(i){return void R(t,i)}A(t,e,n)}var r,o}function E(t){t._onerror&&t._onerror(t._result),D(t)}function P(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(D,t))}function R(t,e){void 0===t._state&&(t._state=2,t._result=e,s(E,t))}function j(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&s(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function x(e,n,r,o){var i=t(r),a=void 0,s=void 0,u=!0;if(i){try{a=r(o)}catch(c){u=!1,s=c}if(n===a)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&u?T(n,a):!1===u?R(n,s):1===e?P(n,a):2===e&&R(n,a))}var B=0;function L(t){t[O]=B++,t._state=void 0,t._result=void 0,t._subscribers=[]}var C=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[O]||L(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===_){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(u){a=!0,i=u}if(o===S&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===I){var s=new n(k);a?R(s,i):A(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?R(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),I=function(){function e(t){this[O]=B++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){T(t,e)}),(function(e){R(t,e)}))}catch(n){R(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return I.prototype.then=S,I.all=function(t){return new C(this,t).promise},I.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},I.resolve=_,I.reject=function(t){var e=new this(k);return R(e,t),e},I._setScheduler=function(t){a=t},I._setAsap=function(t){s=t},I._asap=s,I.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(o){}if("[object Promise]"===r&&!e.cast)return}t.Promise=I},I.Promise=I,I},t.exports=r()}).call(this,n(1),n(2))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],d=!1,f=-1;function l(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!d){var t=s(l);d=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||d||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t})},function(t,e){t.exports=function(t){t||(t=window);var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}},function(t){t.exports=JSON.parse('{"loader":1586432708148,"stable":413,"code":[{"id":413,"percent":100}]}')},function(t,e,n){"use strict";n.r(e);var r=function(){function t(t){this.cache=t}var e=t.prototype;return e.get=function(t){return this.cache[t]},e.has=function(t){return t in this.cache},e.set=function(t,e){this.cache[t]=e},t}(),o=function(t,e,n){return void 0===e&&(e=function(t){return t}),void 0===n&&(n=new r({})),function(){var r=e.apply(this,arguments);if(n.has(r))return n.get(r);var o=t.apply(this,arguments);return n.set(r,o),o}};var i=o((function(){if(!window.MutationObserver)return"not-supported";var t=!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force,e=!window.customElements||window.customElements.forcePolyfill,n=function(){var t=document.createElement("template");if(!("content"in t))return!0;if(!(t.content.cloneNode()instanceof DocumentFragment))return!0;var e=document.createElement("template");e.content.appendChild(document.createElement("div")),t.content.appendChild(e);var n=t.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();return!(window.Promise&&Array.from&&window.URL&&window.Symbol)||n?"all":t&&e?"sd-ce":e?"ce":t?"sd":"no"})),a=function(t,e,n){for(var r=[],o=0;o<t.length;o++){var i=t[o];e.call(n,i,o,t)&&r.push(i)}return r},s=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1};function u(t,e){var n=void 0===e?{}:e,r=n.content,o=n.size,i=t.ownerDocument.createElement("iframe");i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",o&&(i.height=o.height,i.width=o.width),t.appendChild(i);var a=i.contentDocument;return a.open(),r&&a.write(r),a.close(),a.body.style.margin="0",i.style.borderWidth="0",i}var c={}.toString,d=/\[object (\w+)\]/,f=function(t){var e=c.call(t);if(!e)return null;var n=e.match(d);if(!n)return null;var r=n[1];return r||null};function l(t){return"function"==typeof t||"Function"===f(t)}var h=function(t){try{return t()}catch(e){return}},v=function t(e,n,r,o){return function(){try{return n.apply(r||this,arguments)}catch(i){if(l(o)&&o(i),!0===i.preventProtect)throw i;t.log(i,e)}}};function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("")}v.log=function(t,e){console.log("LOG:"+e+":"+t)},v.setTimeout=function(t,e,n,r){return window.setTimeout(v("timeout",t,n,r),e)};var g=function(){};function m(){this.returnValue=!1}function y(){this.cancelBubble=!0}function w(t){return function(e){var n=function(t){return t.stopPropagation||(t.stopPropagation=y),t.preventDefault||(t.preventDefault=m),t.target||(t.target=t.srcElement),t}(e);t.call(this,n)}}function b(t){if(!t||!t.toString)return!1;var e=t.toString();return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)}function S(t,e){var n=t[e];if(!b(n)){var r=n;try{delete t[e];var o=t[e];"function"==typeof o&&(n=o),t[e]=r}catch(i){}}return n}g.YaContextCallbacks=p("Ya.C","ontext._callbacks"),g.YaContextCallbacksCalls=p("Ya.C","ontext._callbacks_call"),g.AdvManager=p("A","dvManager"),g.AdvBlock=p("A","dvBlock"),g.RTB=p("R","TB"),g.Rtb=p("R","tb"),g.MetrikaAdtune=p("metrika_a","dtune");var _=function(t,e,n){t.attachEvent("on"+e,n)},O=function(t,e,n){t.detachEvent("on"+e,n)};S(document,"addEventListener")&&S(document,"removeEventListener")&&(_=function(t,e,n,r){var o=t&&S(t,"addEventListener");o&&o.call(t,e,n,r)},O=function(t,e,n,r){var o=t&&S(t,"removeEventListener");o&&o.call(t,e,n,r)});function k(){}var A=!1,T=!1,E=!1;try{if(function(t){void 0===t&&(t=window);var e=t.Object;try{var n={};return e.defineProperty(n,"sentinel",{}),"sentinel"in n}catch(r){return!1}}()){var P=document.createElement("div"),R={};Object.defineProperty(R,"once",{get:function(){return A=!0}}),Object.defineProperty(R,"passive",{get:function(){return T=!0}}),Object.defineProperty(R,"capture",{get:function(){return E=!0}}),_(P,"click",k,R)}}catch(Yr){}function j(t,e,n,r){var o=function(t){var e=!1,n=!1,r=!1;return!0===t?e=!0:"object"==typeof t&&(e=Boolean(t.capture),n=Boolean(t.passive),r=Boolean(t.once)),{capture:e,passive:n,once:r}}(r),i=E?o:o.capture,a=o.once&&!A?function(t){s(),n.call(this,t)}:n,s=function(){O(t,e,a,i)};return _(t,e,a,i),s}var D=function(t){try{var e=t.getBoundingClientRect(),n=e.left,r=e.right,o=e.top,i=e.bottom;return{left:n,right:r,top:o,bottom:i,width:r-n,height:i-o}}catch(a){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var x=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame||function(e){return t.clearTimeout(e)};return{requestAnimationFrame:e.bind(t),cancelAnimationFrame:n.bind(t)}}(window),B=x.requestAnimationFrame,L=x.cancelAnimationFrame;var C,I=[].find,N=b(I)?function(t,e){return I.call(t,e)}:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}};var F=function(t){void 0===t&&(t=document.body);var e=function(t){var e=u(t);return e.width="0",e.height="0",e.style.position="absolute",e}(t);return{JSON:e.contentWindow.JSON,clean:function(){return function(t){t.src="",function(t){if(t){var e=t.parentElement;e&&e.removeChild(t)}}(t)}(e)}}};function M(t){return void 0===t&&(t=window),void 0===C&&(C=function(t){void 0===t&&(t=window);return t.JSON&&b(t.JSON.stringify)&&b(t.JSON.parse)}(t)?t.JSON:{stringify:Y("stringify"),parse:Y("parse")}),C}var Y=function(t){return function(e){var n=F(),r=n.JSON,o=n.clean;try{return r[t](e)}finally{o()}}};function W(t){var e=typeof t;return Boolean(t)&&("object"===e||"function"===e)}function z(t){return"string"==typeof t}function U(t){var e,n;return M().stringify(t,(e=[],n=function(){if("undefined"!=typeof WeakMap)return new WeakMap;var t=[];return{set:function(e,n){t.push({path:n,value:e})},get:function(e){var n=N(t,(function(t){return t.value===e}));return n?n.path:void 0}}}(),function(t,r){if(l(r))return z(r.name)?r.name:"[Function]";if(!W(r))return r;var o=n.get(r);if(o)return"[Circular "+o+"]";for(;e.length>0&&e[e.length-1].value[t]!==r;)e.pop();var i=(e.length>0?e[e.length-1].path:"")+(t?"/"+t:"~");return e.push({path:i,value:r}),n.set(r,i),r}))}var V="DEFAULT_ERROR_MESSAGE",H=0,q="",J="?:?:?",$=!0;function G(t){var e="function"==typeof Map?new Map:void 0;return(G=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return X(t,arguments,Q(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,t)})(t)}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function X(t,e,n){return(X=K()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Z(o,n.prototype),o}).apply(null,arguments)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=n(3);var et=function(t){var e,n;function r(e,n){var o;void 0===n&&(n={});var i,s="object"==typeof e?e:{message:String(e||V)};(o=t.call(this)||this).message=void 0,o.code=void 0,o.isFatal=void 0,o.details=void 0,o.stack=void 0,o.toString=void 0,o.toJSON=void 0,tt(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o),r.prototype),o.message=n.message||s.message||V,o.code=n.code||s.code||s.id||H,o.isFatal=Boolean((i=[n.isFatal,s.isFatal,$],a(i,(function(t){return void 0!==t}))[0])),o.details=n.details||s.details||q;var u=n.stack||s.stack||function(t){var e=t.url,n=t.line,r=t.col,o=t.fileName,i=t.columnNumber,a=t.lineNumber;return(e||o||"?")+":"+(n||a||"?")+":"+(r||i||"?")}(s),c=u===J?o.stack:u;if(c&&c!==J)o.stack=c;else if(!o.stack)try{throw new Error(o.message)}catch(d){o.stack=c=d.stack||J}return o.toString=function(){return U(o.toJSON())},o.toJSON=function(){return{message:o.message,code:o.code,isFatal:o.isFatal,details:o.details,stack:c}},o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(G(Error));var nt=function(t,e){void 0===t&&(t=document);var n=t.currentScript;if(n)return n;for(var r=t.getElementsByTagName("script"),o=[],i=0;i<r.length;i++)o.push(r[i]);if("function"==typeof e){var a=o.filter(e);return a[a.length-1]}return o[o.length-1]}(),rt=nt?nt.src:"",ot=!b(Math.random)||Math.random()==Math.random(),it=Date&&l(Date.now)?function(){return Date.now()}:function(){return(new Date).getTime()},at="undefined"==typeof window?void 0:window.performance,st=at&&l(at.now),ut=at&&at.timing&&at.timing.navigationStart?at.timing.navigationStart:it(),ct=0,dt=st?function(){return at.now()}:function(){return t=it()-ut,ct=Math.max(t,ct);var t},ft=Date.now()*dt()%2147483647;var lt=ot?function(){return((ft=16807*ft%2147483647)-1)/2147483646}:function(){return Math.random()};function ht(t){for(var e="",n=0;n<t;n++)e+=(16*lt()|0).toString(16);return e}function vt(t){if(t&&t.location){var e=t.location;return"function"==typeof e.toString?e.toString():e.href||""}return""}var pt=function(t){for(var e=[];t;)try{if(vt(t),e.push(t),t.parent===t)break;t=t.parent}catch(n){break}return e},gt=S(Array,"isArray"),mt=Boolean(gt)?function(t){return gt.call(Array,t)}:function(t){return"Array"===f(t)};var yt=k,wt=k,bt=k,St="undefined"==typeof Promise?n(0).Promise:Promise,_t="undefined"==typeof Promise?n(0).Promise:Promise;function Ot(){return(Ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var kt=function(t){var e=t.win,n=t.propertyName;return{call:function(t){return yt(Ot({win:e,propertyName:n},t))},subscribe:function(t){return bt(Ot({win:e,propertyName:n},t))},wait:function(t){return function(t){var e=t.propertyName,n=t.win;return new St((function(t){bt({callback:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(n)},propertyName:e,win:n})}))}(Ot({win:e,propertyName:n},t))},waitUntil:function(t){return function(t){var e=t.propertyName,n=t.win,r=t.comparator;return new _t((function(t){bt({propertyName:e,win:n,callback:function(){r.apply(void 0,arguments)&&t()}})}))}(Ot({win:e,propertyName:n},t))},clear:function(t){return wt(Ot({win:e,propertyName:n},t))}}};kt({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tt=function(){function t(){this._isDestroyed=!1,this.destroyHandlers=[],this._destroyReason=void 0}var e,n,r,o=t.prototype;return o.onDestroy=function(t){this._addDestroyHandler(t)},o.addDestroyListener=function(t){this._addDestroyHandler(t)},o.addDestroyHandler=function(t){this._addDestroyHandler(t)},o.destroy=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=r,this.destroyHandlers.forEach((function(t){return t.apply(void 0,e)})),this.destroyHandlers.length=0)},o.getIsDestroyed=function(){return this._isDestroyed},o.ignoreAfterDestroy=function(t){var e=this,n=t;return function(){e.isDestroyed&&(n=k);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n.apply(e,r)}},o._addDestroyHandler=function(t){this._isDestroyed?t.apply(void 0,[this._destroyReason]):this.destroyHandlers.push(t)},e=t,(n=[{key:"destroyReason",get:function(){return this._destroyReason}},{key:"isDestroyed",get:function(){return this._isDestroyed}}])&&At(e.prototype,n),r&&At(e,r),t}(),Et="undefined"==typeof Promise?n(0).Promise:Promise;function Pt(t,e){t.forEach((function(t){!function(t){return"function"==typeof t.dispatch}(t)?t(e):t.dispatch(e)}))}var Rt=function(t){var e,n;function r(e,n){var r;return void 0===n&&(n=function(t,e){return t===e}),(r=t.call(this)||this).checkToEqualFunction=n,r.value=void 0,r.value=e,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getValue=function(){return this.value},o.dispatch=function(e){this.checkToEqualFunction(this.value,e)||(this.value=e,t.prototype.dispatch.call(this,e))},r}(function(){function t(){this.on=[],this.once=[]}var e=t.prototype;return e.add=function(){for(var t,e=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.on).push.apply(t,r),function(){return e.remove.apply(e,r)}},e.addOne=function(){for(var t,e=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=this.once).push.apply(t,r),function(){return e.remove.apply(e,r)}},e.promise=function(){var t=this;return new Et((function(e){return t.addOne(e)}))},e.dispatch=function(t){var e=this.once;this.once=[],Pt(this.on,t),Pt(e,t)},e.removeAll=function(){this.on.length=0,this.once.length=0},e.remove=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.on=this.on.filter((function(t){return e.indexOf(t)<0})),this.once=this.once.filter((function(t){return e.indexOf(t)<0}))},t}()),jt=0,Dt=[];function xt(){return(xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Bt=function(t){var e,n;function r(e,n){var r,o=(void 0===n?{}:n).lazy,i=void 0!==o&&o;(r=t.call(this)||this).onResize=void 0,r.resizeObserverCallback=function(t){var e=t[0].contentRect,n=e.width,o=e.height;r.onResize.dispatch({width:n,height:o})};var a=i?{width:NaN,height:NaN}:D(e);if(r.onResize=new Rt({width:a.width,height:a.height},(function(t,e){var n=e.width,r=e.height;return t.width===n&&t.height===r})),i){var s=B((function(){var t=D(e),n=t.width,o=t.height;r.onResize.dispatch({width:n,height:o})}));r.addDestroyHandler((function(){L(s)}))}if(r.addDestroyHandler((function(){r.onResize.removeAll()})),"undefined"!=typeof ResizeObserver&&b(ResizeObserver))try{var u=new ResizeObserver(r.resizeObserverCallback);u.observe(e),r.addDestroyHandler((function(){u.disconnect()}))}catch(Yr){r.fallbackToCustomDetectionMethods(e)}else r.fallbackToCustomDetectionMethods(e);return r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getSize=function(){return xt({},this.onResize.getValue())},o.fallbackToCustomDetectionMethods=function(t){var e=this,n=t.ownerDocument;if(n){var r=n.defaultView;if(r){var o,i=function(){var n=D(t);e.onResize.dispatch({width:n.width,height:n.height})};this.addDestroyHandler(j(r,"resize",i,{passive:!0})),this.addDestroyHandler((o=i,0===Dt.length&&(jt=window.setInterval((function(){Dt.forEach((function(t){return t()}))}),250)),Dt.push(o),function(){var t=Dt.indexOf(o);t>-1&&Dt.splice(t,1),0===Dt.length&&clearInterval(jt)}))}}},r}(Tt);function Lt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ct(t,e,n){for(var r in t)Lt(t,r)&&e.call(n,t[r],r,t)}var It=function(){function t(t){void 0===t&&(t=window),this.windowObj=t,this.yaBroApiInstance=void 0,this.initYaBrowserApi()}var e=t.prototype;return e.canUseYaBroApi=function(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)},e.isPageHiddenYaBroApi=function(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)},e.initYaBrowserApi=function(){var t=this;this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then((function(e){t.yaBroApiInstance=e}))},t}(),Nt="hidden",Ft="visibilitychange";if(!(Nt in document))for(var Mt=0,Yt=["webkit","moz","ms","o"];Mt<Yt.length;Mt++){var Wt=Yt[Mt],zt=Wt+"Hidden";if(zt in document){Nt=zt,Ft=Wt+"visibilitychange";break}}var Ut=new It;function Vt(t){var e=[],n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i,s=a[0],u=Ht(a[1],s);e.push(u)}return function(t){if(t.length>53)throw new Error("bitUtils.toDecimal: больше 53 бит не поддерживается из-за ограниченной точности, но передана строка длиной "+t.length+" бит.");return parseInt(t,2)}(e.reverse().join(""))}function Ht(t,e){return qt(function(t,e){return Number(t)&Math.pow(2,e)-1}(t,e).toString(2),e)}function qt(t,e){return function(t,e,n){void 0===n&&(n=" ");var r=e-t.length;if(r>0){for(var o=n;o.length<r;)o+=o;return(o.length>r?o.substr(0,r):o)+t}return t}(t,e,"0")}function Jt(){return(Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var $t=13;var Gt,Kt=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getTemplate=function(){return[[4,"marker"],[6,"format"],[4,null],[1,"isRefresh"],[1,"emptyLoaderTesttag"],[1,"isIframe"],[1,"isHover"],[10,"loaderVer"],[9,null],[1,null],[1,null],[10,"codeVer"],[1,"adblock"],[3,"polyfill"]]},o.defaults=function(){return{marker:$t,adblock:!1,isIframe:(t=window,t.top!==t.self)};var t},r}(function(){function t(t){void 0===t&&(t={}),this.props={},this.setProps(Jt({},this.defaults(),{},t))}t.sliceBits=function(t,e,n){return function(t,e,n){var r=e+n,o=qt(t.toString(2),r).substr(-r,n);return parseInt(o,2)}(t,e,n)};var e=t.prototype;return e.defaults=function(){return{}},e.toString=function(){return this.serialize().toString()},e.setProps=function(t){var e,n,r=this;return n=typeof(e=t),!Boolean(e)||"object"!==n&&"function"!==n||function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)}(this.getTemplate(),(function(e){var n=e[1];n&&t.hasOwnProperty(n)&&(r.props[n]=t[n])}),this),this},e.getProps=function(){return Jt({},this.props)},e.clone=function(){return new(0,this.constructor)(this.props)},e.serialize=function(){var t,e;return Vt((t=this.getTemplate(),e=this.props,function(t,e,n){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e.call(n,t[o],o,t);return r}(t,(function(t){var n=t[0],r=t[1];return[n,r&&e[r]||null]}))))},e.slice=function(e,n){return t.sliceBits(this.serialize(),e,n)},t}());function Xt(t){return t%1024}function Zt(t){switch(t){case"ce":return Gt.CE;case"sd":return Gt.SD;case"sd-ce":return Gt.SD_CE;case"all":return Gt.ALL;default:return Gt.NO}}function Qt(t){var e=function(){e=function(){return n};var n=t.apply(this,arguments);return n};return function(){return e.apply(this,arguments)}}!function(t){t[t.NO=0]="NO",t[t.CE=1]="CE",t[t.SD=2]="SD",t[t.SD_CE=3]="SD_CE",t[t.ALL=4]="ALL"}(Gt||(Gt={}));var te=function(t,e,n){var r=t.getItem(e);return r||(r=n(e),t.setItem(e,r)),r};function ee(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}var ne=function(t,e){var n=e.split("."),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;if(!W(t)){t=void 0;break}t=t[a]}return t},re=function(t,e,n){if(!W(t))return t;var r=t,o=e.split("."),i=o.pop(),a=o,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(u>=a.length)break;c=a[u++]}else{if((u=a.next()).done)break;c=u.value}var d=c,f=t[d];t=W(f)?f:t[d]={}}return t[i]=n,r},oe=function(){function t(t){this.obj=t}var e=t.prototype;return e.getItem=function(t){return this.obj[t]},e.setItem=function(t,e){this.obj[t]=e},t}(),ie=Qt((function(){return function(t,e,n){var r;return function(t,e){for(var n=t.slice();n.length;){var r=e(n.shift());if(!r)return;n.push.apply(n,r)}}([t.top],(function(t){if(!(r=h((function(){return ne(t,e)}))))return h((function(){return ee(t.frames)}))||[]})),r||(r=n()),re(t,e,r),r}(self,"Ya.pcodeCrossFrameData",(function(){return new oe({})}))})),ae=function(t){return te(ie(),t,(function(){return new oe({})}))},se=Qt((function(){return function(t,e,n){var r=ne(t,e);return r||(r=n(),re(t,e,r)),r}(self,"Ya.pcodeWindowData",(function(){return new oe({})}))})),ue=function(t){return te(se(),t,(function(){return new oe({})}))};function ce(){return(ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var de,fe=v("metrika::pushEvent",(function(t,e){var n=ne(t,"Ya._metrika.dataLayer")||[];re(t,"Ya._metrika.dataLayer",n),n.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:ce({},e)}}})})),le=v("sessionId::configureMetrika",(function(t,e){var n;fe(t,((n={}).adSessionID=e,n))})),he=function(){return(1e6*lt()).toFixed(0)+(new Date).valueOf().toString()},ve=function(){var t,e,n,r,o;return de||(t=he,e=ue("common"),n=ae("common"),r=le,(o=e.getItem("sessionId"))||(o=n.getItem("sessionId")||t(),r(window,o)),e.setItem("sessionId",o),n.setItem("sessionId",o),de=o),de},pe="__ADB_CONFIG__",ge=W(pe)&&pe.fn&&l(pe.fn.encodeUrl)?pe.fn.encodeUrl:void 0,me=void 0!==ge?function(t){return ge(t)}:void 0,ye=function(t){if(void 0===t&&(t=window),me)return me;for(var e=pt(t);e.length;){var n=e.pop();if(n){var r=ne(n,"ya.videoAd.encodeUrl");if(l(r))return r}}}(window);function we(t,e){void 0===e&&(e=!0);var n=function(t){return"hidden"in t?"hidden":"webkitHidden"in t?"webkitHidden":void 0}(t);return n?!t[n]:e}var be=n(4),Se=function(t){void 0===t&&(t=window);var e=be(t);return"boolean"==typeof e?-1:e};function _e(t){return function(t){return Boolean(t.PointerEvent)}(t)&&function(t){var e=t.navigator||{},n=e.msMaxTouchPoints,r=e.maxTouchPoints;return n||r||0}(t)>0&&!function(t){return void 0===t&&(t=window),Se(t)>11}(t)}var Oe=function(t,e,n){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e.call(n,t[o],o,t);return r};function ke(t,e){if(!l(t.matchMedia))return!1;var n=t.matchMedia(e);return W(n)&&Boolean(n.matches)}var Ae=["","-webkit-","-ms-","-moz-","-o-"],Te=Oe(Ae,(function(t){return"("+t+"any-pointer:coarse)"})).join(",");var Ee=Oe(Ae,(function(t){return"("+t+"touch-enabled)"})).join(",");function Pe(t){return void 0===t&&(t=window),_e(t)||function(t){return ke(t,Te)}(t)||function(t){return ke(t,Ee)}(t)||function(t){var e=t.DocumentTouch;return Boolean(e)&&t.document instanceof e}(t)||function(t){return"ontouchstart"in t}(t)}function Re(t){void 0===t&&(t=window);var e=t.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(e)&&!t.MSStream&&!function(t){return void 0===t&&(t=window),t.navigator.userAgent.indexOf("UCBrowser")>-1}(t)}var je=function(t){void 0===t&&(t=window);var e=function(t){void 0===t&&(t=window);try{return(t.navigator||{}).userAgent||""}catch(e){return""}}(t).toLowerCase();if(e.indexOf("android")>-1)return!1;var n=e.replace(/\(.+?\)/gi,"").split(" ").map((function(t){return t.trim().split("/")[0]})).filter((function(t){return t&&"mobile"!==t}));return 4===n.length&&"mozilla"===n[0]&&"applewebkit"===n[1]&&"version"===n[2]&&"safari"===n[3]};var De,xe=(void 0===De&&(De=window),je(De)||Re(De)||function(t){return void 0===t&&(t=window),/Apple/.test(t.navigator.vendor)&&Pe(t)}(De));function Be(t,e){if(void 0===e&&(e=!0),xe&&e)return[];for(var n=[],r=t;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return n;n.push(r)}catch(o){return n}}var Le=Be(document.documentElement),Ce=Le.length,Ie=Ce>0?Le[Ce-1].ownerDocument.defaultView:window;function Ne(){if(Ie&&Ie.document&&"function"==typeof Ie.document.hasFocus)try{return Ie.document.hasFocus()}catch(t){}}function Fe(t){setTimeout((function(){throw t}),0)}var Me=Boolean(window.location.ancestorOrigins);function Ye(t){return Me?ee(t.location.ancestorOrigins):[]}var We=Ye(window);function ze(t){var e=Be(t.documentElement).map((function(t){return t.ownerDocument}));return e.unshift(t),e.map((function(t){return{location:vt(t.defaultView),referrer:t.referrer}}))}function Ue(t){var e="",n="";t&&ze(t).reverse().forEach((function(t){var r=t.location,o=t.referrer;e=e||r,n=n||o}));return{location:e,referrer:n}}var Ve=function(){var t=Oe(Le,(function(t){return t.ownerDocument})),e=t.length,n=(e?t[e-1]:document).defaultView;return!!n&&n.self!==n.parent}(),He=document.createElement("a");function qe(){return(qe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}o((function(t){return qe({},$e(t))}));var Je=/^(android-app:|chrome-extension:)/;function $e(t){He.href=t;var e=He.pathname||"";"/"!==e.charAt(0)&&(e="/"+e);var n=(He.search||"")+(He.hash||""),r=t.lastIndexOf(n),o=-1===r?t:t.slice(0,r);if(Je.test(t)){var i=$e(t.replace(Je,"https:"));return He.href=t,qe({},i,{originalPath:o,protocol:t.slice(0,t.indexOf(":")+1),href:He.href})}var a=He.protocol&&/^[a-z\-]+:/i.test(He.protocol)?He.protocol:"";return{originalPath:o,href:He.href,protocol:a,host:He.host,hostname:He.hostname,port:He.port,pathname:e,search:He.search,hash:He.hash}}function Ge(t,e){if(void 0===e&&(e=!1),e){var n=t.originalPath,r="/"===t.pathname&&"/"!==n[n.length-1];return t.originalPath+(r?"/":"")+t.search+t.hash}var o="443"===t.port||"80"===t.port?t.hostname:t.host;return t.protocol+"//"+o+t.pathname+t.search+t.hash}var Ke=function(t){try{return decodeURIComponent(t)}catch(e){return t}};function Xe(t){for(var e={},n=t.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&"),r=0;r<n.length;r++){var o=n[r].indexOf("="),i=void 0,a=void 0;if(-1===o?(i=Ke(n[r]),a=""):(i=Ke(n[r].slice(0,o)),a=n[r].slice(o+1)),i){var s=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),s?void 0===e[i]?e[i]=[Ke(a)]:e[i]=[].concat(e[i],Ke(a)):e[i]=Ke(a)}}return e}var Ze=function(t,e){return e.map((function(e){return t+"[]="+encodeURIComponent(e)})).join("&")};function Qe(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];mt(r)?e.push(Ze(n,r)):void 0!==r&&e.push(n+"="+encodeURIComponent(r))}return"?"+e.join("&")}function tn(t,e,n){var r=void 0===n?{}:n,o=r.override,i=void 0===o||o,a=r.saveOriginalPath,s=void 0!==a&&a,u=$e(t),c=Xe(u.search);return Ct(e,(function(t,e){(void 0===c[e]||i)&&(c[e]=t)})),Ge(qe({},u,{search:Qe(c)}),s)}var en=function(t){void 0===t&&(t=window);var e=Ye(t);if(e.length>0)return{topAncestor:e[e.length-1],isTrusted:!0};var n=Ue(t.document),r=n.location,o=n.referrer,i=Ve?o:r,a=!Ve||function(t){for(var e=t,n=[t],r=t.top;e!==r;)e=e.parent,n.push(e);return n}(Ie).length<2,s=$e(i);return{topAncestor:Ge({protocol:s.protocol,hostname:s.hostname,host:s.host,port:s.port,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:a}}(),nn=en.topAncestor,rn=en.isTrusted,on=nn,an=rn;function sn(){return(sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function un(t){var e,n=t.method,r=t.url,o=t.async,i=void 0===o||o,a=t.data,s=t.responseType,u=void 0===s?"text":s,c=t.onBeforeSend,d=void 0===c?k:c,f=t.onError,l=void 0===f?k:f,h=t.onSuccess,v=void 0===h?k:h,p=t.onRetry,g=void 0===p?k:p,m=t.checkStatus,y=void 0===m?function(t){return 200===t}:m,w=t.headers,b=void 0===w?{}:w,S=t.xhrConstructor,_=void 0===S?XMLHttpRequest:S,O=t.retries,A=void 0===O?0:O,T=t.timeout,E=void 0===T?0:T,P=t.withCredentials,R=t.onAbort,j=t.onSetup,D=!1,x=0,B=function(t){D=!0,B=k,e=t,L(new Error("Abort request")),"function"==typeof R&&R(t)},L=function(n){if(C.onerror=null,C.onreadystatechange=null,x&&clearTimeout(x),x&&4!==C.readyState||D)try{C.abort()}catch(n){}if(!D)if(A>0){var r=g(n,C);if("boolean"!=typeof r||r||B(),D)return;un(sn({},t,{onSetup:function(t){var n=t.abort;B=function(t){return n(t)},D&&n(e)},retries:A-1}))}else B=k,l(n,C)},C=new _;try{C.open(n,r,i)}catch(I){return void L(I)}if(C.responseType=u,C.withCredentials=Boolean(P),Ct(b,(function(t,e){try{C.setRequestHeader(e,t)}catch(I){}})),E>0&&isFinite(E)&&(x=window.setTimeout((function(){L(new Error("Request timeout, "+r))}),E)),C.onerror=L,C.onreadystatechange=function(){if(4===C.readyState){var t=C.status;y(t)?(B=k,clearTimeout(x),v(C)):L(new Error("Invalid request status "+t+", "+r))}},!("function"==typeof j&&(j({abort:function(t){return B(t)}}),D)||(d(C,t),D)))try{C.send(a)}catch(I){L(I)}}function cn(t){var e={};return t.forEach((function(t){var n=t[0],r=t[1];e[n]=r})),e}function dn(t){if("function"==typeof Object.keys)return Object.keys(t);var e=[];for(var n in t)Lt(t,n)&&e.push(n);return e}function fn(t){return"function"==typeof Object.entries?Object.entries(t):dn(t).map((function(e){return[e,t[e]]}))}var ln=lt();var hn=function(t){return b(t.navigator.sendBeacon)}(window);var vn,pn="_$".split("").reverse().join(""),gn=function(t){return"_$invalid_"+t+pn},mn={sensorName:gn("sensor_name"),labelKey:gn("label_key"),labelValue:gn("label_value")};!function(t){t.event="event",t.error="error",t.fatal="fatal",t.deprecated="deprecated",t.warning="warning",t.value="value",t.values="values"}(vn||(vn={}));kt({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});function yn(){return(yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var wn=function(t){var e,n=t.eventType,r=t.eventName,o=t.value,i=t.values,a={};return Ct(i,(function(t,e){a[n+"_"+r+"_"+e]=t})),yn(((e={})[n+"_"+r]=o,e),a)},bn=function(t){return t.isFatal?vn.fatal:vn.error},Sn=/^\w(\-|_|:|\s|\.|\w){1,20}$/,_n=/^\w(\-|_|:|\s|\.|\w){0,70}$/,On=/^\w(\-|_|:|\s|\.|\w){1,70}$/,kn=function(){function t(e){var n=this;this.rootFields={},this.labels={},this.params=void 0,this.logUrl=void 0,this.isStrmLogUrl=void 0,this.event=function(t){var e=t.name,r=t.data,o=t.labels,i=t.probability,a=t.extraRootFields;n.push({eventType:vn.event,eventName:e,data:r,additionalStatsLabels:o,probability:i,extraRootFields:a})},this.error=function(t){var e=t.error,r=t.labels,o=t.probability,i=t.extraRootFields,a=new et(e);n.push({eventName:String(a.code),eventType:bn(a),data:a,additionalStatsLabels:r,probability:o,extraRootFields:i})},this.value=function(t){var e=t.name,r=t.value,o=t.data,i=t.labels,a=t.probability,s=t.extraRootFields;n.push({eventName:e,value:r,eventType:vn.value,data:o,additionalStatsLabels:i,probability:a,extraRootFields:s})},this.values=function(t){var e=t.name,r=t.values,o=t.data,i=t.labels,a=t.probability,s=t.extraRootFields;n.push({eventName:e,eventType:vn.values,data:o,additionalStatsLabels:i,probability:a,values:r,extraRootFields:s})},this.warning=function(t){var e=t.name,r=t.message,o=t.probability,i=t.extraRootFields;W(console)&&l(console.warn)&&console.warn(r),n.push({eventName:e,eventType:vn.warning,data:{message:r},probability:o,extraRootFields:i})},this.getParams=function(){var t=n.params;t.onLogError;return function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["onLogError"])},this.setRootFields=function(t){fn(t).forEach((function(t){var e=t[0],r=t[1];void 0===r?delete n.rootFields[e]:n.rootFields[e]=r}))},this.setLabels=function(t){fn(t).forEach((function(t){var e=t[0],r=t[1];void 0===r?delete n.labels[e]:n.labels[e]=r}))},this.eventToStats=function(t,e,r,o){n.push({eventType:vn.event,eventName:t,data:e,additionalStatsLabels:r,extraRootFields:o})},this.errorToStats=function(t,e,r){var o=new et(t);n.push({eventName:String(o.code),eventType:bn(o),data:o,additionalStatsLabels:e,extraRootFields:r})},this.deprecated=function(t,e){W(console)&&l(console.warn)&&console.warn(e),n.push({eventName:t,eventType:vn.deprecated,data:{message:e}})},this.valueToStats=function(t,e,r,o){n.push({eventName:t,value:e,eventType:vn.value,data:r,additionalStatsLabels:o})};var r=e.onLogError;this.params=yn({},e,{sid:e.sid||ht(64),onLogError:r?function(t){try{r(t)}catch(t){Fe(t)}}:Fe}),this.logUrl=t.getLogUrl(e),this.isStrmLogUrl="https://strm.yandex.ru/log"===this.logUrl}t.getLogUrl=function(t){return t.logUrl?t.logUrl:!0===t.useAlias?"https://jstracer.yandex.ru/jstracer":"https://an.yandex.ru/jstracer"};var e=t.prototype;return e.push=function(e){var n=e.eventName,r=e.eventType,o=e.data,i=void 0===o?{}:o,a=e.additionalStatsLabels,s=e.value,u=void 0===s?1:s,c=e.probability,d=void 0===c?1:c,f=e.values,l=void 0===f?{}:f,h=e.extraRootFields,v=void 0===h?{}:h;if(function(t,e,n,r){void 0===r&&(r=!1);var o=(r?lt():ln)<t,i=o?e:n;return"function"==typeof i&&i(),o}(d)){var p=this.params,g=p.service,m=p.version,y={service:g,version:m,data:i,eventName:n,eventType:r,additionalStatsLabels:a,value:u,values:l};if(t.isSendingData)throw new et({message:"RecursiveStatsRequests",details:{service:g,version:m,eventType:r,eventName:n}});t.isSendingData=!0;try{var w,b=this.logUrl;if(!this.params.sendOnlyPrimaryParams)b=tn(this.logUrl,yn(((w={})[g]=m,w[r]=n,w),a));var S=this.createFullStatsObject(y,v),_=v.routeToJSTracer,O=void 0===_||_;this.isStrmLogUrl&&O&&(S.routeToJSTracer=!0),this.sendData(b,U(S))}catch(k){t.isSendingData=!1,this.params.onLogError(new et(k,{details:{service:g,version:m,eventType:r,eventName:n}}))}t.isSendingData=!1}},e.sendData=function(t,e){if(this.params.useSendBeacon&&function(t,e){return!!hn&&window.navigator.sendBeacon(t,e)}(t,e))return;un({url:t,data:e,method:"POST",onBeforeSend:this.params.onBeforeSend})},e.createFullStatsObject=function(t,e){var n=t.service,r=t.version,o=t.eventName,i=t.eventType,a=t.data,s=t.additionalStatsLabels,u=t.value,c=(this.params.createTagsFunction||wn)(t),d=yn({},this.labels,{},s,{version:this.params.version}),f={service:n,tags:cn(fn(c).map((function(t){var e=t[0],n=t[1];return On.test(e)?[e,n]:[mn.sensorName,n]}))),labels:cn(fn(d).map((function(t){var e=t[0],n=t[1];return Sn.test(e)||(e=mn.labelKey),_n.test(n)||(n=mn.labelValue),[e,n]})))},h=Ue(document),v=h.location,p=h.referrer;return yn({},e,{},this.rootFields,{},f,{timestamp:Date.now(),eventType:i,eventName:o,data:a,sid:this.params.sid,version:r,location:vt(window),topLocation:v,topAncestor:on,isTopAncestorUndetermined:!an||void 0,ancestorOrigins:We,documentIsVisible:we(document),referrer:window.document.referrer,topReferrer:p,currentScriptSrc:rt,secureIFrame:Ve,isVideoADB:l(ye),value:u,rnd:ln,topDocumentFocus:Ne()})},t}();kn.isSendingData=!1;var An=new kn({service:"CommonPcode",version:"0",sid:ht(64)});function Tn(t,e){try{return t()}catch(n){"function"==typeof e&&e(n)}}function En(t,e,n){var r=function(t,e){for(var n=fn({UrlParams:function(){for(var n,r=ze(t.document),o=0;o<r.length;o++){var i=r[o].location,a=(n=i,Xe($e(n).search))[e];if(a)return a}},LocalStorage:function(){return t.localStorage.getItem(e)},globalVariable:function(){for(var n=pt(t),r=0;r<n.length;r++){var o=n[r],i=o&&o.Ya&&o.Ya.hardcodedParams&&o.Ya.hardcodedParams[e];if(i)return String(i)}}}),r=0;r<n.length;r++){var o=n[r],i=o[0],a=Tn(o[1]);if("string"==typeof a&&a.length>0)return An.deprecated("HardcodedParamObtainedFrom"+i,"ATTENTION! Product parameter obtained from "+i+" ["+e+"]["+a+"]"),a}}(t,e);return r?Number(r):function(t){for(var e=100*lt(),n=0,r=0;r<t.length;r++)if(e<(n+=t[r].percent))return t[r].id;return t[0].id}(n)}var Pn="https://an.yandex.ru/meta",Rn="https://an.yandex.ru/widget_settings",jn=["//yasta","tic.net/pcode-nat","ive-bundles"].join(""),Dn=n(5);function xn(){return Dn}function Bn(t){(void 0===t?xn():t).loader;return 415}var Ln=o((function(t){var e=function(t){var e=t.reduce((function(t,e){return t+e.percent}),0);return t.filter((function(t){return t.percent})).map((function(t){var n=t.percent,r=t.id;return{percent:n/e*100,id:r}}))}((void 0===t?xn():t).code);return En(window,"yaw_ver",e)}));function Cn(){return(Cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var In=new kn({service:"pcode_native_error",version:Bn().toString(),sid:ve()}),Nn=[];function Fn(){return{version:Bn().toString(),widget_pf:i(),adb:String(!1)}}function Mn(t,e,n){try{var r=new et(t,{widget_ver:Ln().toString(),code:e,type:"ERROR",href:vt(window),details:n});In.error({error:r,labels:Fn(),probability:.25}),Nn=[].concat(Nn.slice(-50),[r])}catch(o){}}function Yn(t){try{In.event({name:t.name,data:Cn({widget_ver:Ln().toString()},t.data),labels:Fn(),probability:.25})}catch(e){}}var Wn=new kn({service:"pcode_native",version:Bn().toString(),sid:ve(),createTagsFunction:function(t){return t.values}});function zn(t){try{Wn.values({name:t.event||"performance",values:t.tags||{},data:t.data,labels:{adb:String(!1),verison:Bn().toString(),widget_pf:i()}})}catch(e){}}var Un,Vn=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r],r,t)},Hn=function(t,e){return t===e};function qn(){return(qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}!function(t){t.Wait="010",t.DNS="020",t.TCP="030",t.SSL="040",t.TTFB="050",t.Response="060"}(Un||(Un={}));var Jn=function(t,e){return e>0&&t>0?Math.round(t-e):0};function $n(){return($n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Gn=new(function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getJsTracerObject=function(){var t=this.getNewEntries();return t?{tags:t}:null},o.getAll=function(){var t=this,e=this.getPerformanceEntries(),n={};return Vn(e,(function(e){var r=t.getPrefix(e.name);n=$n({},n,{},t.getNetworkObject(e,r))})),dn(n).length?n:null},r}(function(){function t(t,e){void 0===e&&(e=window),this.prefixes=t,this.cache=[],this.windows=[],this.registerWin(e)}var e=t.prototype;return e.registerWin=function(t){this.windows.push(t)},e.getNewEntries=function(){var t=this,e=this.getPerformanceEntries(),n={};return Vn(e,(function(e){if(e&&-1===function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=Hn);for(var o=n;o<t.length;o++)if(r(t[o],e))return o;return-1}(t.cache,e)){t.cache.push(e);var r=t.getPrefix(e.name);n=qn({},n,{},t.getNetworkObject(e,r))}})),Object.keys(n).length?n:null},e.getPerformanceEntries=function(){var t=this,e=[];return Vn(this.windows,(function(t){try{e=e.concat(t.performance.getEntries())}catch(n){}})),a(e,(function(e){return W(e)&&s(t.prefixes,(function(t){return t.re.test(e.name)}))}))},e.getPrefix=function(t){var e="";return Vn(this.prefixes,(function(n){n.re.test(t)&&(e=n.prefix)})),e},e.getNetworkObject=function(t,e){var n={},r=Jn(t.domainLookupStart,t.startTime);r&&(n[e+"_"+Un.Wait]=r);var o=Jn(t.domainLookupEnd,t.domainLookupStart);o&&(n[e+"_"+Un.DNS]=o);var i=Jn(t.connectEnd,t.connectStart);i&&(n[e+"_"+Un.TCP]=i);var a=Jn(t.connectEnd,t.secureConnectionStart);a&&(n[e+"_"+Un.SSL]=a);var s=Jn(t.responseStart,t.requestStart);s&&(n[e+"_"+Un.TTFB]=s);var u=Jn(t.responseEnd,t.responseStart);return u&&(n[e+"_"+Un.Response]=u),n},t}()))([{prefix:"L",re:/\/pcode-native\/loaders\/loader\.js$/i},{prefix:"B",re:/\/pcode-native-bundles\/[\d\w]+\/widget\.js/i},{prefix:"BC",re:/\/pcode-native-bundles\/[\d\w]+\/widget-ce\.js/i},{prefix:"BS",re:/\/pcode-native-bundles\/[\d\w]+\/widget-sd\.js/i},{prefix:"BCS",re:/\/pcode-native-bundles\/[\d\w]+\/widget-sd-ce\.js/i},{prefix:"BA",re:/\/pcode-native-bundles\/[\d\w]+\/widget-all\.js/i},{prefix:"S",re:/\/an\.yandex\.ru\/widget_settings/i},{prefix:"M",re:/\/an\.yandex\.ru\/meta\//i}]);function Kn(){return(Kn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Xn,Zn,Qn,tr,er=function(){function t(t){this.steps=t,this.storage={}}var e=t.prototype;return e.setBlockData=function(t,e){this.storage[t]||(this.storage[t]={timing:{},data:{},canLog:!0}),this.storage[t].data=Kn({},this.storage[t].data,{},e)},e.logRenderLabel=function(t,e,n){void 0===n&&(n=(new Date).getTime()),this.storage[t]||(this.storage[t]={timing:{},data:{},canLog:!0}),this.storage[t].timing[e]=n},e.stopLoggingTime=function(t){this.storage[t]&&(this.storage[t].canLog=!1)},e.continueLoggingTime=function(t){this.storage[t]&&(this.storage[t].canLog=!0)},e.getInfo=function(t){return this.canSendData(this.storage[t])&&t in this.storage?{timing:this.prepareTimings(this.storage[t]),data:this.storage[t].data}:null},e.canSendData=function(t){return t&&t.canLog},e.prepareTimings=function(t){for(var e,n={totalInit:0,totalData:0,totalRender:0,total:0},r=dn(t.timing).sort((function(t,e){return t-e})),o=0;o<r.length;o++){var i=t.timing[r[o]]||0;if(e){var a=i-e;e=i,n[r[o]]=a,r[o]in this.steps.initSteps?n.totalInit+=a:r[o]in this.steps.dataSteps?n.totalData+=a:r[o]in this.steps.renderSteps&&(n.totalRender+=a),n.total+=a}else e=i}return n},t}();!function(t){t.CfgInitTime="005",t.YaadsBlockAdd="009",t.YaadsBlockInit="010",t.YaadsMetaLoadDone="020",t.YaadsSettingsLoadDone="030",t.YaadsWidgetLoadDone="040",t.YaadsBlockReady="100",t.WidgetRenderFinish="110"}(tr||(tr={}));var nr=new(function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getJsTracerObject=function(t){var e=this.getInfo(t);return e?{tags:e.timing,data:e.data}:null},o.prepareTimings=function(t){for(var e,n=0,r={totalInit:0,totalData:0,totalRender:0,total:0},o=dn(t.timing).sort((function(t,e){return t-e})),i=0;i<o.length;i++){var a=t.timing[o[i]]||0;if(e){o[i]in this.steps.dataSteps&&(e=n);var s=a-e;e=a,r[o[i]]=s,o[i]in this.steps.initSteps?(n=a,r.totalInit+=s):o[i]in this.steps.dataSteps?r.totalData=Math.max(s,r.totalData):o[i]in this.steps.renderSteps&&(r.totalRender+=s)}else e=a}return r.total+=r.totalInit+r.totalData+r.totalRender,r},o.getAll=function(){var t=this,e=[];return Ct(this.storage,(function(n,r){var o=t.prepareTimings(n);e.push({blockId:r,timing:o,data:n.data,canSendData:t.canSendData(n)})}),this),e},r}(er))({initSteps:(Xn={},Xn[tr.YaadsBlockAdd]=1,Xn[tr.YaadsBlockInit]=1,Xn),dataSteps:(Zn={},Zn[tr.YaadsMetaLoadDone]=1,Zn[tr.YaadsSettingsLoadDone]=1,Zn[tr.YaadsWidgetLoadDone]=1,Zn[tr.YaadsBlockReady]=1,Zn),renderSteps:(Qn={},Qn[tr.WidgetRenderFinish]=1,Qn)});function rr(){return(rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var or=[];function ir(){var t=Gn.getJsTracerObject();t&&zn(rr({event:"performance"},t))}var ar=function(t,e){nr.logRenderLabel(t,e)},sr=function(){or.push((new Date).getTime())},ur=function(){return or.reduce((function(t,e){return Math.abs(e-t)}),0)},cr=function(t,e){if(e&&e.contentWindow){var n=e.contentWindow.yaads;if(!n)return;return n.renderBlock}return t.renderBlock};var dr=Se(),fr=function(t){void 0===t&&(t=window);var e=t.navigator.userAgent;return-1!==e.indexOf("Opera Mini")||(-1!==e.indexOf("; wv)")&&-1!==e.indexOf(" OPR/")||-1!==e.indexOf(" OPiOS/"))}();var lr=function(t){return Math.max(0,Math.round(t))},hr=function(t){return Math.round(t)},vr=function(){function t(t,e){if(void 0===e&&(e={}),this.isFirstScreen=void 0,this.size=void 0,this.config=void 0,this.element=void 0,this.winSize=void 0,this.MIN_VISIBLE_AREA=void 0,this.MIN_VISIBLE_AREA=.5,t){this.config={};var n=function(){var t=window,e=t.innerWidth,n=t.innerHeight;if(!e){var r=t.document.documentElement;e=r.clientWidth,n=r.clientHeight}return{width:e,height:n}}();this.set("win_width",lr(n.width)),this.set("win_height",lr(n.height));var r=D(t);this.setLayout(r),this.setVisible(r,n),this.element=t,this.size=r,this.winSize=n}else{if(!e)throw new Error("wrong LayoutConfig constructor params");this.config=e}}var e=t.prototype;return e.set=function(t,e){this.config[t]=e},e.toString=function(){return JSON.stringify(this.config)},e.setLayout=function(t){var e={left:void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,top:void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset};this.set("width",lr(t.width)),this.set("height",lr(t.height)),this.set("left",hr(t.left+e.left)),this.set("top",hr(t.top+e.top))},e.setVisible=function(t,e){var n=t.width,r=t.height,o=t.top,i=t.left,a=t.right,s=t.bottom,u=1,c=Math.max(Math.min(a,e.width)-Math.max(i,0),0),d=Math.max(Math.min(s,e.height)-Math.max(o,0),0);n?u*=c/n:(i<0||a>e.width)&&(u=0),r?u*=d/r:(o<0||s>e.height)&&(u=0),this.set("visible",u>=this.MIN_VISIBLE_AREA?1:0),this.isFirstScreen=0===n&&0===r&&0===o&&0===i&&0===a&&0===s||this.config.top<e.height},t}(),pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function gr(t,e){return void 0===e&&(e=1e6),function(t){var e="",n=0;for(;n<t.length;){var r=t.charCodeAt(n++),o=t.charCodeAt(n++),i=t.charCodeAt(n++),a=r>>2,s=(3&r)<<4|o>>4,u=(15&o)<<2|i>>6,c=63&i;isNaN(o)?u=c=64:isNaN(i)&&(c=64),e=e+pr.charAt(a)+pr.charAt(s)+pr.charAt(u)+pr.charAt(c)}return e}(function(t,e){t=t.replace(/\r\n/g,"\n");for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r),i=void 0;if(o<128?i=String.fromCharCode(o):o>127&&o<2048?(i=String.fromCharCode(o>>6|192),i+=String.fromCharCode(63&o|128)):(i=String.fromCharCode(o>>12|224),i+=String.fromCharCode(o>>6&63|128),i+=String.fromCharCode(63&o|128)),n.length+i.length>e)break;n+=i}return n}(t,3*e/4|0))}function mr(t,e){var n=window,r=n.document;if(e){var o=function(t){return t.location.host}(r);if(" yandex.ru yandex.com yandex.ua yandex.by yandex.kz yandex.com.tr ".indexOf(" "+o+" ")>-1)return e}var i=yr(t,r);if("t\n"===i&&n.top!==n.self)try{i=yr(t,n.parent.document)}catch(a){}return gr(i,t)}function yr(t,e){var n,r,o,i=[],a=0;i.push("t"+(e.title||"")),a+=i[0].length;for(var s=1;s<4&&a<t;s++){r=(n=e.getElementsByTagName("h"+s)).length;for(var u=0;u<r;u++)a+=(o=wr(n[u])).length,i.push(""+s+o)}return i.join("\n")+"\n"}function wr(t){var e="",n=[];if(!t)return e;for(n.push(t);n.length>0;){if(3!==(t=n.pop()).nodeType){if(t.childNodes&&t.childNodes.length>0)for(var r=t.childNodes,o=r.length-1;o>=0;o--){var i=r[o];n.push(i)}}else e+=t.nodeValue+" "}return e.replace(/\s+/g," ")}function br(){return(br=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Sr=!(dr>0||fr);function _r(t,e){var n,r=function(t){var e=t.split("-"),n=e[0],r=e[1];return[n,r]}(t),o=r[0],i=r[1];if(!i)throw new Error("incorrent ID format: can't split to page & imp");n=Pn+"/"+o;var a={"imp-id":i,"target-ref":vt(window),"page-ref":document.referrer,"ad-session-id":ve(),"ss-skip-token-length":String(30),"layout-config":Or(e),"test-tag":e.testtag.toString(),refresh:e.isRefresh?"1":void 0,"partner-stat-id":e.statId,"ext-param":e.extParam};e.extParams&&(a=br({},Xe(e.extParams),{},a));var s=function(t,e){var n=[];try{n=t.cookie?t.cookie.split("; "):[]}catch(c){}for(var r,o=/(%[0-9A-Z]{2})+/g,i=0;i<n.length;i++){var a=n[i].split("="),s=a.slice(1).join("=");try{var u=a[0].replace(o,decodeURIComponent);if(s.replace(o,decodeURIComponent),e===u){r=decodeURIComponent(s);break}}catch(c){return}}return r}(document,"_ym_uid");return s&&(a.duid=gr(s)),function(t){var e=mr(2040-t.length);return function(t,e,n){if(void 0===n)return t;var r=$e(t),o=Xe(r.search);return o[e]=n,Ge(qe({},r,{search:Qe(o)}))}(t,"grab",e)}(tn(n,a))}function Or(t){var e=document.querySelector(t.renderTo);if(e&&Sr){var n=new vr(e);return n.set("req_no",t.requestsCount),n.set("ad_no",t.adRenderedCount),n.toString()}}function kr(t,e){void 0===t&&(t=!1),void 0===e&&(e=Ln());var n=i(),r="widget"+("no"!==n?"-"+n:"");return t&&(r+="_adb"),jn+"/"+e+"/"+r+".js"}function Ar(){return(Ar=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Tr="undefined"==typeof Promise?n(0).Promise:Promise;"undefined"==typeof Promise&&n(0).Promise;function Er(t,e,n){var r=(e||{}).retries,o=void 0===r?0:r;e&&delete e.retries;return function r(o){return fetch(t,e).then(n||function(t){return t}).catch((function(t){if(o>0)return r(o-1);throw t}))}(o)}"undefined"==typeof Promise&&n(0).Promise;function Pr(t){var e=t;if(b(window.fetch))return Er(e,{credentials:"include",retries:2},(function(t){return t.text().then((function(t){return Rr(t)}))}));return function(t){return new Tr((function(e,n){un(Ar({},t,{onSuccess:e,onError:n}))}))}({method:"GET",url:e,headers:{},retries:2,timeout:3e3,withCredentials:!0}).then((function(t){return Rr(t.response||t.responseText)}))}function Rr(t){try{return function(t){var e=M();return e.parse(t)}(t)}catch(e){throw new Error("bad server data:"+e.message+":"+t)}}function jr(t){var e=t.document,n=e.getElementsByTagName("head")[0];return n||(n=e.createElement("head"),e.documentElement.appendChild(n)),n}var Dr="undefined"==typeof Promise?n(0).Promise:Promise;function xr(t){var e=t.src,n=t.onBeforeLoad,r=t.win,o=t.charset,i=void 0===o?"utf-8":o,a=r||window,s=e;return new Dr((function(t,e){var r=a.document.createElement("script");r.type="text/javascript",r.async=!0,r.onload=t,r.onerror=function(){return e(new Error("Fail to load script ["+s+"]"))},r.src=s,r.charset=i,"function"==typeof n&&n(r),jr(a).appendChild(r)}))}function Br(t){var e=function(t){var e=/^(?:(\w{1,2})-(?:\w+-)?)?(\d+)-(\d+|\w+)$/.exec(t);return{product:e&&e[1]||null,pageId:e&&e[2]||null,impId:e&&e[3]||null}}(t.id);return e.pageId&&e.impId?e.pageId+"-"+e.impId:""}function Lr(t){if(void 0!==t){var e=z(t)?parseInt(t,10):t;return isNaN(e)?void 0:String(e%Math.pow(2,24))}}function Cr(){return"no"!==i()&&!/yandex\.ru\/video/i.test(vt(window))}var Ir="undefined"==typeof Promise?n(0).Promise:Promise;function Nr(){return(Nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Fr="undefined"==typeof Promise?n(0).Promise:Promise;sr();var Mr=function(){function t(t){if(void 0===t&&(t=[]),this.blocks=[],this.version=Bn(),this.renderBlock=void 0,this.initialized=!1,this.settings={},this.metaRequestsCount=0,this.adRenderedCount=0,this.iframes={},sr(),t.blocks)return t;if(!Cr())try{e=kr(),(n=document.createElement("link")).rel="preload",n.href=e,n.as="script",jr(window).appendChild(n)}catch(r){Mn(r,"preloadError")}var e,n;this.push.apply(this,t),this.init()}t.cacheLoadingPromise=function(t,e){var n=this;return this.loadingPromises[e]?this.loadingPromises[e]:(this.loadingPromises[e]=t().catch((function(t){throw n.loadingPromises[e]=void 0,t})),this.loadingPromises[e])},t.clearLoadingPromise=function(t){this.loadingPromises[t]=void 0};var e=t.prototype;return e.push=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){e&&(e.id=Br(e),e.statId=Lr(e.statId),t.isPreservedBlockRender(e)?Yn({name:"preventByReloadTimeout",data:{blockId:e.id,blockRender:e.render}}):(ar(e.id,tr.YaadsBlockAdd),t.storeBlockSettings(e),t.dropSimilarBlock(e),t.blocks.push(e),t.initialized&&t.initWidgetBlock(e)))}))},e.getDebugInfo=function(){return{initialized:this.initialized,blocks:this.blocks.map((function(t){return{id:t.id,render:t.render,rendered:t.rendered,meta:t.data,state:t.getState?t.getState():void 0}})),settings:this.settings,renderBlock:this.renderBlock,versions:{loader:this.version,widget:Ln().toString(),polifills:i(),adblock:!1},metrics:{network:Gn.getAll(),render:nr.getAll(),startup:ur()},logs:Nn}},e.initAutoRefreshment=function(){var t=this,e=Date.now();!function(t,e,n,r,o){if(!t||!n)return null;var i,a=w(v("handler:"+e,n,r)),s={un:function(){O(t,e,a)}};o&&o.once&&!A&&(i=a,a=function(t){i.call(this,t),function(t){t&&t.un()}(s)}),_(t,e,a,T?o:o&&o.capture)}(document,Ft,(function(){(Ut.canUseYaBroApi()?Ut.isPageHiddenYaBroApi():Boolean(document[Nt]))||Date.now()-e>1e4&&t.rerender(),e=Date.now()}))},e.rerender=function(){var t=this;this.blocks.forEach((function(e){t.isValidBlock(e)&&t.shouldRefreshBlock(e)&&t.initWidgetBlock(e,!0)}))},e.shouldRefreshBlock=function(t){var e=t.getState&&t.getState()||{};return!t.disableRefresh&&(e.isWidget?e.adsWasVisible:e.wasVisible)},e.init=function(){var t=this;this.initAutoRefreshment(),this.initialized=!0,ir(),this.blocks.forEach((function(e){return t.initWidgetBlock(e)}))},e.initWidgetBlock=function(t,e){var n=this;if(void 0===e&&(e=!1),!t.id)return Mn(new Error('Block should have valid "id" field'),"initWidgetBlock",{block:JSON.stringify(t)}),void this.callRejectCb(t,"blockIdMissing");if(!t.render)return Mn(new Error('Block should have "render" field'),"initWidgetBlock",{block:JSON.stringify(t)}),void this.callRejectCb(t,"blockRenderMissing");var r=new Kt({codeVer:Xt(Ln()),loaderVer:Xt(Bn()),polyfill:Zt(i()),isRefresh:e});new Ir((function(t,e){var n=document.readyState;if("loading"!==document.readyState)t();else if(document.addEventListener){var r=1,o=setInterval((function(){Mn(new Error(""),"waitDocumentReady",{readyState:document.readyState,initState:n,timeout:(3e4*r).toString()}),r>=3&&clearInterval(o),r+=1}),3e4),i=function e(){clearInterval(o),document.removeEventListener("DOMContentLoaded",e),t()};document.addEventListener("DOMContentLoaded",i),window.addEventListener("load",i)}else e(new et({message:'document does not support "addEventListener" method',code:"waitDocumentReadyError"}))})).then((function(){var o=document.querySelector(t.render);if(!o)throw new et({message:'Can not find element with selector "'+t.render+'"',code:"containerNotFound"});return Cr()&&n.createIframeForBlock(t,o),ar(t.id,tr.YaadsBlockInit),Yn({name:"attempToRenderWidget",data:{blockId:t.id}}),Fr.all([n.getMeta(t,r,e),n.loadSettings(t),n.loadWidgetBundle(t)])})).then((function(e){var o=e[0],i=e[1];ar(t.id,tr.YaadsBlockReady);var a=t.iframe;ar(t.id,tr.YaadsBlockReady);var s=Nr({},t,{render:a?"body":t.render});return cr(n,a)({block:s,meta:o,settings:i,additional:{testtag:r}})}),(function(e){var r=e.code||"failedPrepare";Yn({name:r,data:{blockId:t.id,blockRender:t.render,msg:e.message}}),n.callRejectCb(t,r)})).then((function(e){if(ar(t.id,tr.WidgetRenderFinish),e){Yn({name:"successRenderWidget",data:{blockId:t.id}});var r=e();r.isWidget?n.adRenderedCount+=r.adsCount||0:n.adRenderedCount+=1,t.getState=e,t.rendered=!0,n.callSuccessCb(t)}})).catch((function(e){var r=e.code||"widgetRenderFailed";Yn({name:r,data:{blockId:t.id}}),Mn(e,"renderWidget"),n.callRejectCb(t,r)})).then((function(){var e,n;ir(),e=t.id,(n=nr.getJsTracerObject(e))&&(n.tags=rr({},n.tags,{cset:ur()}),zn(rr({event:"block_render"},n)))}))},e.createIframeForBlock=function(e,n){if(!e.iframe&&this.iframes[e.render]&&(e.iframe=this.iframes[e.render]),e.iframe)e.iframe.contentWindow&&e.iframe.contentWindow.yaads||t.clearLoadingPromise("widget_"+e.render);else{var r=u(n,{content:"<!DOCTYPE html>",size:{width:"100%",height:"0"}});r.contentWindow&&(r.contentWindow.yaads={}),e.iframe=r,this.iframes[e.render]=r;var o=r.contentDocument.body,i=new Bt(o),a=function(t){var e=parseInt(t.height,10)||0,n=0;return function(r){1!==++n&&100!==n||Yn({name:"Iframe resized",data:{changeSizeNumber:n,height:r.height}}),e!==r.height&&(e=r.height,t.height=String(r.height))}}(r);i.onResize.add(a)}},e.storeBlockSettings=function(t){t.settings&&t.settings[t.id]&&(this.settings[t.id]=t.settings[t.id],delete t.settings)},e.getMeta=function(t,e,n){return void 0===n&&(n=!1),this.saveLoadDataTime(t),!n&&t.data&&(t.data.seatbid||t.data.rtb)?Fr.resolve(t.data):this.loadMeta(t.id,t.render,e,t.statId,t.extParam,t.extParams,n).then((function(e){return t.data=e,e}))},e.loadMeta=function(t,e,n,r,o,i,a){void 0===a&&(a=!1);var s=_r(t,{renderTo:e,testtag:n,isRefresh:a,requestsCount:this.metaRequestsCount++,adRenderedCount:this.adRenderedCount,extParam:o,extParams:i,statId:r});return Pr(s).then((function(e){if(ar(t,tr.YaadsMetaLoadDone),e&&(void 0!==e.seatbid||void 0!==e.rtb))return e;throw new Error("bad server data:"+JSON.stringify(e))})).catch((function(t){throw Mn(t,"loadMeta",{metaUrl:s}),new et({message:t.message,code:"loadMetaError"})}))},e.loadSettings=function(e){var n=this,r=e.id,o=e.data||{};return o.widgetSettings?(this.settings[r]=o.widgetSettings,Fr.resolve(o.widgetSettings)):e.data&&e.data.rtb?Fr.resolve(void 0):this.settings[r]?Fr.resolve(this.settings[r]):t.cacheLoadingPromise((function(){var t=Rn+"?charset=utf8&imp-id="+r;return Pr(t).then((function(t){if(ar(r,tr.YaadsSettingsLoadDone),Ct(t,(function(t,e){n.settings[e]=t})),!n.settings[r])throw new Error("settings has no required pageId");return n.settings[r]})).catch((function(e){throw Mn(e,"loadSettings",{settingsUrl:t}),new et({message:e.message,code:"loadSettingsError"})}))}),"s_"+r)},e.loadWidgetBundle=function(e){var n=this;void 0===e&&(e={});var r=e.iframe;return t.cacheLoadingPromise((function(){var t=kr(e.adb);return xr(Nr({src:t},r?{win:r.contentWindow}:{})).then((function(){if(ar(e.id,tr.YaadsWidgetLoadDone),!cr(n,r))throw new Error("Can't find render in YaADS right after loading")})).catch((function(e){throw Mn(e,"loadWidgetBundle",{widgetUrl:t}),new et({message:e.message,code:"loadWidgetBundleError"})}))}),e.iframe?"widget_"+e.render:"widget")},e.callRejectCb=function(t,e){t.reject&&t.reject(e)},e.callSuccessCb=function(t){t.success&&t.success()},e.saveLoadDataTime=function(t){t.loadDataTime||(t.loadDataTime=new Date)},e.isValidBlock=function(t){return Boolean(t.rendered&&t.getState&&!t.getState().disconnected)},e.recentLoadDataTime=function(t,e){void 0===e&&(e=3e4);var n=(new Date).getTime()-e,r=t.loadDataTime&&t.loadDataTime.getTime()>n;return Boolean(r)},e.isPreservedBlockRender=function(t){var e=this;return s(this.blocks,(function(n){var r=n.id===t.id&&n.render===t.render;return Boolean(r&&e.recentLoadDataTime(n,t.reloadTimeout)&&e.isValidBlock(n))}))},e.dropSimilarBlock=function(t){var e=this;this.blocks=a(this.blocks,(function(n){var r=n.id===t.id&&n.render===t.render;return r&&(Yn({name:"dropSimilarBlock",data:{blockId:t.id,blockRender:t.render}}),!t.data&&n.data&&e.recentLoadDataTime(n,t.reloadTimeout)&&(t.data=n.data,t.loadDataTime=n.loadDataTime)),!r}))},t}();Mr.loadingPromises={},"not-supported"!==i()&&(window.yaads=new Mr(window.yaads))}]);